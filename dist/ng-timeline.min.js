!function(e){e.module("ngTimeline.config",[]).value("ngTimeline.config",{debug:!0}),e.module("ngTimeline.directives",[]),e.module("ngTimeline.filters",[]),e.module("ngTimeline.services",[]),e.module("ngTimeline",["ngTimeline.config","ngTimeline.directives","ngTimeline.filters","ngTimeline.services"])}(angular),angular.module("ngTimeline.directives").directive("timelineComponent",[function(){return{restrict:"E",replace:!0,templateUrl:"src/ng-timeline/directives/timeline.component.directive.tpl.html",scope:{rows:"=",startDate:"="},link:function(){},controller:function(e){e.$watch("rows",function(){$(".popover").remove()})}}}]),angular.module("ngTimeline.directives").directive("timelineComponentRow",[function(){return{restrict:"E",templateUrl:"src/ng-timeline/directives/timeline.component.row.directive.tpl.html",replace:!0,scope:{row:"=",startDate:"="},link:function(e){e.isToday=0===moment().diff(e.startDate,"days"),e.$watch("startDate",function(){var t=new Date(e.startDate.getFullYear(),e.startDate.getMonth(),e.startDate.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),n=(i.getTime()-t.getTime(),new Date),o=n,r=t,s=moment.utc(moment(o).diff(moment(r))),m=moment.utc(moment(i).diff(moment(t)));e.todayOffset=s/m,e.isToday=0===moment().diff(e.startDate,"days")})}}}]),angular.module("ngTimeline.directives").directive("timelineComponentSession",["$timeout","$window","$rootScope",function(e,t){return{restrict:"E",replace:!0,templateUrl:"src/ng-timeline/directives/timeline.component.session.directive.tpl.html",scope:{session:"="},link:function(i,n){function o(){r.width(100*i.sessionDurationPercentage+"%"),e(function(){var e=r.parent().width()*i.sessionOffsetPercentage;r.css("transform","translateX("+e+"px)"),r.css("opacity",1)},200)}var r=$(n),s=$(t);i.getWindowDimensions=function(){return{h:s.height(),w:s.width()}},i.$watch(i.getWindowDimensions,function(){o()},!0),s.bind("resize",function(){i.$apply()})},controller:function(e){var t=new Date(e.session.startTime.getFullYear(),e.session.startTime.getMonth(),e.session.startTime.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),n=i.getTime()-t.getTime(),o=e.session.startTime,r=e.session.endTime,s=o.getTime()-t.getTime(),m=r.getTime()-o.getTime();e.sessionOffsetPercentage=s/n,e.sessionDurationPercentage=m/n;var a="YYYY.MM.DD. HH:mm";e.sessionContent=["Start time: ",moment(e.session.startTime).format(a),"<br/>","End time: ",moment(e.session.endTime).format(a)].join(" ")}}}]),angular.module("ngTimeline.directives").directive("timelineComponentUnit",["$timeout","$window",function(e,t){return{restrict:"E",replace:!0,templateUrl:"src/ng-timeline/directives/timeline.component.unit.directive.tpl.html",scope:{session:"=",index:"=",unit:"="},link:function(i,n){function o(){var t=.1+.05*i.index;r.css("transition-delay",t+"s"),r.width(100*i.unitDurationPercentage+"%"),e(function(){r.css("transform","translateX("+r.parent().width()*i.unitOffsetPercentage+"px)"),r.css("opacity",1)},300)}var r=$(n),s=$(t);i.getWindowDimensions=function(){return{h:s.height(),w:s.width()}},i.$watch(i.getWindowDimensions,function(){o()},!0),s.bind("resize",function(){i.$apply()}),i.onClick=function(e){e.ctrlKey&&($(".popover").remove(),$(e.currentTarget).popover("show"),e.stopPropagation())}},controller:function(e){var t=e.session.startTime,i=e.session.endTime,n=i.getTime()-t.getTime(),o=e.unit.startTime,r=e.unit.endTime,s=o.getTime()-t.getTime(),m=r.getTime()-o.getTime();e.unitOffsetPercentage=s/n,e.unitDurationPercentage=m/n;var a="YYYY.MM.DD. HH:mm";e.unitContent="Start time: "+moment(e.unit.startTime).format(a)+"<br/>End time: "+moment(e.unit.endTime).format(a)}}}]);